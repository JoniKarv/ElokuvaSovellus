<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>ElokuvaLista</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<body>

	<h1>Elokuvat</h1>
	<table>
	<td><b>Nimi: </b></td>
	<td><b>Ohjaaja: </b></td>
	<td><b>Kuvaus: </b></td>
	<td><b>Kategoria: </b></td>
	<td><b>Ikäraja: </b></td>
		<tr th:each= "elokuva:${elokuvat}">
			<td th:text= "${ elokuva.nimi }"></td>
			<td th:text= "${ elokuva.ohjaaja.nimi }"></td>
			<td th:text= "${ elokuva.kuvaus }"></td>
			<td th:text= "${ elokuva.kategoria.nimi }"></td>
			<td th:text= "${ elokuva.ikaraja }"></td>
			<td sec:authorize="hasRole('ADMIN')"><a th:href="@{/edit/{id}(id=${elokuva.elokuva_id})}" style="text-decoration: none; color: black"><button type="button">Muokkaa</button></a></td>
			<td sec:authorize="hasRole('ADMIN')"><a th:href="@{/deleteelokuva/{id}(id=${elokuva.elokuva_id})}" style="text-decoration: none; color: black"><button type="button">Poista</button></a></td>
		</tr>
	</table>
	
	<a sec:authorize="hasRole('ADMIN')" th:href="@{/addelokuva}" style="text-decoration: none; color: black"><button type="button">Lisää uusi elokuva</button></a><br /><br />
	
	<table>
		<tr>
			<td><a th:href="@{/}" style="text-decoration: none; color: black"><button type="button" style="background-color: lightblue">Elokuvat</button></a></td>
			<td><a th:href="@{/ohjaajalist}" style="text-decoration: none; color: black"><button type="button">Ohjaajat</button></a></td>
			<td><a th:href="@{/kategorialist}" style="text-decoration: none; color: black"><button type="button">Kategoriat</button></a></td>
		</tr>
	</table>
	<br />
	<table>
		<tr>
			<td sec:authorize="!hasRole('ADMIN')"><a th:href="@{/login}" style="text-decoration: none; color: black"><button type="button">Kirjaudu sisään</button></a></td>
			<td sec:authorize="hasRole('ADMIN')">
				<form th:action="@{/logout}" method = "post">
			    	<input type="submit" value="Kirjaudu ulos" class="btn"/>
			    </form>
		    </td>
		</tr>
	</table>
</body>
</html>